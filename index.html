<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Tire ta carte absurde</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 2em;
      background-color: #fdf6e3;
      color: #333;
    }
    button {
      font-size: 1.2em;
      padding: 0.5em 1em;
      background-color: #e0c3fc;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    #carte {
      margin-top: 2em;
      padding: 1em;
      border: 1px solid #ccc;
      border-radius: 8px;
      background-color: #fff;
    }
  </style>
</head>
<body>
  <h1>Tire ta carte absurde</h1>
  <button onclick="tirerCarte()">ðŸŽ´ Tirer une carte</button>
  <div id="carte">Aucune carte tirÃ©e pour lâ€™instant.</div>

  <script>
    let cartes = [];

    // Charger les cartes depuis le fichier JSON
    fetch('cartes.json')
      .then(response => {
        if (!response.ok) {
          throw new Error("Fichier JSON introuvable ou inaccessible.");
        }
        return response.json();
      })
      .then(data => {
        cartes = data;
        console.log("Cartes chargÃ©es :", cartes.length);
      })
      .catch(error => {
        console.error("Erreur de chargement des cartes :", error);
        document.getElementById("carte").innerText = "Erreur de chargement des cartes.";
      });

   function tirerCarte() {
  if (!cartes || cartes.length === 0) {
    document.getElementById("carte").innerText = "Les cartes ne sont pas encore chargÃ©es.";
    return;


      }

      const carte = cartes[Math.floor(Math.random() * cartes.length)];
      document.getElementById("carte").innerHTML = `
        <h2>${carte.titre}</h2>
        <p><strong>Action :</strong> ${carte.action}</p>
        <p><strong>Effet :</strong> ${carte.effet}</p>
        <p><strong>RÃ©compense :</strong> ${carte.recompense}</p>
        <p><strong>Rituel :</strong><br>${carte.rituel.replace(/\n/g, "<br>")}</p>
        <p><em>${carte.phrase}</em></p>
      `;
    }
  </script>
</body>
</html>

